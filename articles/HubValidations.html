<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting started with HubValidations • HubValidations</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Getting started with HubValidations">
<meta property="og:description" content="HubValidations">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">HubValidations</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/HubValidations.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/tests.html">Package design</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/epiforecasts/HubValidations/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="HubValidations_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Getting started with HubValidations</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/epiforecasts/HubValidations/blob/HEAD/vignettes/HubValidations.Rmd" class="external-link"><code>vignettes/HubValidations.Rmd</code></a></small>
      <div class="hidden name"><code>HubValidations.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/epiforecasts/HubValidations" class="external-link">HubValidations</a></span><span class="op">)</span></code></pre></div>
<p>HubValidations is an R package designed to validate submissions to a forecast hub.</p>
<p>Most of the time, validations will be set up to run automatically via <a href="https://github.com/features/actions" class="external-link">GitHub Actions</a> when a pull request is opened in a hub GitHub repository.</p>
<p>However, you might want to validate your submission locally, either to check that everything is okay in advance, or to investigate the reason of a failure in the automated checks.</p>
<div class="section level2">
<h2 id="interpreting-the-output-of-hubvalidations">Interpreting the output of HubValidations<a class="anchor" aria-label="anchor" href="#interpreting-the-output-of-hubvalidations"></a>
</h2>
<p>By default, validation functions from HubValidations (functions starting with <code>validate_...()</code>) will print all the checks performed and passing checks will be shown on lines starting with <code>✓</code> while failing check lines will start with <code>x</code>.</p>
</div>
<div class="section level2">
<h2 id="checking-all-your-changes">Checking all your changes<a class="anchor" aria-label="anchor" href="#checking-all-your-changes"></a>
</h2>
<p>To reproduce the checks done automatically when you open a pull request, the simplest option is to place yourself at the root of the hub GitHub repository, and call <code><a href="../reference/validate_repository.html">validate_repository()</a></code> or <code><a href="../reference/validate_pr.html">validate_pr()</a></code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/validate_repository.html">validate_repository</a></span><span class="op">(</span>
 <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"testdata"</span>, package <span class="op">=</span> <span class="st">"HubValidations"</span><span class="op">)</span>
<span class="op">)</span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> example-model: There is only one metadata file </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> example-model: Folder name is the same as the model name in metadata filename </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> 2021-07-19-example-model.csv: Folder name is identical to model name in data file </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> 2021-07-26-example-model.csv: Folder name is identical to model name in data file </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> metadata-example-model.txt: Metadata file is using the `.txt` extension </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> metadata-example-model.txt: Metadata filename is starting with 'metadata-' </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> metadata-example-model.txt: Metadata filename is the same as `model_abbr` </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> metadata-example-model.txt: Metadata file is consistent with schema specifications </span>
<span class="co">#&gt;  </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> 2021-07-19-example-model.csv: Filename is formed of a date and a model name, separated by an hyphen </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> 2021-07-19-example-model.csv: `forecast_date` column is identical to the date in filename </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> 2021-07-19-example-model.csv: Data is formed of the expected columns with correct type </span>
<span class="co">#&gt;  </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> 2021-07-26-example-model.csv: Filename is formed of a date and a model name, separated by an hyphen </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> 2021-07-26-example-model.csv: `forecast_date` column is identical to the date in filename </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> 2021-07-26-example-model.csv: Data is formed of the expected columns with correct type </span>
<span class="co">#&gt;  </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> example-model2: There is only one metadata file </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> example-model2: Folder name is the same as the model name in metadata filename </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> 2021-07-19-example-model2.csv: Folder name is identical to model name in data file </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> 2021-07-26-example-model2.csv: Folder name is identical to model name in data file </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> metadata-example-model2.txt: Metadata file is using the `.txt` extension </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> metadata-example-model2.txt: Metadata filename is starting with 'metadata-' </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> metadata-example-model2.txt: Metadata filename is the same as `model_abbr` </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> metadata-example-model2.txt: Metadata file is consistent with schema specifications </span>
<span class="co">#&gt;  </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> 2021-07-19-example-model2.csv: Filename is formed of a date and a model name, separated by an hyphen </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> 2021-07-19-example-model2.csv: `forecast_date` column is identical to the date in filename </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> 2021-07-19-example-model2.csv: Data is formed of the expected columns with correct type </span>
<span class="co">#&gt;  </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> 2021-07-26-example-model2.csv: Filename is formed of a date and a model name, separated by an hyphen </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> 2021-07-26-example-model2.csv: `forecast_date` column is identical to the date in filename </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> 2021-07-26-example-model2.csv: Data is formed of the expected columns with correct type </span>
<span class="co">#&gt;  </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> metadata-example-model.txt: There is only one primary model for a given team</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="checking-only-your-team-folder">Checking only your team folder<a class="anchor" aria-label="anchor" href="#checking-only-your-team-folder"></a>
</h2>
<p>You can check a specific team folder instead of checking the whole repository by running <code><a href="../reference/validate_model_folder.html">validate_model_folder()</a></code>. In this case, you will also need to specify the path to the schema files used for the validation. Usually, these files will be at the root of the folder containing each team folder. In the case of the European Covid-19 Forecast Hub, this folder is named <code>data-processed</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/validate_model_folder.html">validate_model_folder</a></span><span class="op">(</span>
  <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"testdata"</span>, <span class="st">"example-model"</span>, package <span class="op">=</span> <span class="st">"HubValidations"</span><span class="op">)</span>,
  data_schema <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"testdata"</span>, <span class="st">"schema-data.yml"</span>, package <span class="op">=</span> <span class="st">"HubValidations"</span><span class="op">)</span>,
  metadata_schema <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"testdata"</span>, <span class="st">"schema-metadata.yml"</span>, package <span class="op">=</span> <span class="st">"HubValidations"</span><span class="op">)</span>
<span class="op">)</span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> example-model: There is only one metadata file </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> example-model: Folder name is the same as the model name in metadata filename </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> 2021-07-19-example-model.csv: Folder name is identical to model name in data file </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> 2021-07-26-example-model.csv: Folder name is identical to model name in data file </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> metadata-example-model.txt: Metadata file is using the `.txt` extension </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> metadata-example-model.txt: Metadata filename is starting with 'metadata-' </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> metadata-example-model.txt: Metadata filename is the same as `model_abbr` </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> metadata-example-model.txt: Metadata file is consistent with schema specifications </span>
<span class="co">#&gt;  </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> 2021-07-19-example-model.csv: Filename is formed of a date and a model name, separated by an hyphen </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> 2021-07-19-example-model.csv: `forecast_date` column is identical to the date in filename </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> 2021-07-19-example-model.csv: Data is formed of the expected columns with correct type </span>
<span class="co">#&gt;  </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> 2021-07-26-example-model.csv: Filename is formed of a date and a model name, separated by an hyphen </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> 2021-07-26-example-model.csv: `forecast_date` column is identical to the date in filename </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> 2021-07-26-example-model.csv: Data is formed of the expected columns with correct type </span>
<span class="co">#&gt; </span></code></pre></div>
</div>
<div class="section level2">
<h2 id="checking-only-your-metadata-file">Checking only your metadata file<a class="anchor" aria-label="anchor" href="#checking-only-your-metadata-file"></a>
</h2>
<p>Alternatively, you can check only the metadata file with <code><a href="../reference/validate_model_metadata.html">validate_model_metadata()</a></code>. You will have to specify the path to the metadata schema file</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/validate_model_metadata.html">validate_model_metadata</a></span><span class="op">(</span>
  <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"testdata"</span>, <span class="st">"example-model"</span>, <span class="st">"metadata-example-model.txt"</span>, package <span class="op">=</span> <span class="st">"HubValidations"</span><span class="op">)</span>,
  metadata_schema <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"testdata"</span>, <span class="st">"schema-metadata.yml"</span>, package <span class="op">=</span> <span class="st">"HubValidations"</span><span class="op">)</span>
<span class="op">)</span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> metadata-example-model.txt: Metadata file is using the `.txt` extension </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> metadata-example-model.txt: Metadata filename is starting with 'metadata-' </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> metadata-example-model.txt: Metadata filename is the same as `model_abbr` </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> metadata-example-model.txt: Metadata file is consistent with schema specifications </span>
<span class="co">#&gt; </span></code></pre></div>
</div>
<div class="section level2">
<h2 id="checking-only-your-projection-file">Checking only your projection file<a class="anchor" aria-label="anchor" href="#checking-only-your-projection-file"></a>
</h2>
<p>Alternatively, you can check only the projection file with <code><a href="../reference/validate_model_data.html">validate_model_data()</a></code>. You will have to specify the path to the metadata schema file</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/validate_model_data.html">validate_model_data</a></span><span class="op">(</span>
  <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"testdata"</span>, <span class="st">"example-model"</span>, <span class="st">"2021-07-26-example-model.csv"</span>, package <span class="op">=</span> <span class="st">"HubValidations"</span><span class="op">)</span>,
  data_schema <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"testdata"</span>, <span class="st">"schema-data.yml"</span>, package <span class="op">=</span> <span class="st">"HubValidations"</span><span class="op">)</span>
<span class="op">)</span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> 2021-07-26-example-model.csv: Filename is formed of a date and a model name, separated by an hyphen </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> 2021-07-26-example-model.csv: `forecast_date` column is identical to the date in filename </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> 2021-07-26-example-model.csv: Data is formed of the expected columns with correct type </span>
<span class="co">#&gt; </span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://hugogruson.fr/" class="external-link">Hugo Gruson</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
